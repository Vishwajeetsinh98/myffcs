<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width" />
    <title>MY FFCS | Timetable</title>
    <!--CSS-->
    <link rel="stylesheet" href="css/materialize.min.css">
    <link rel="stylesheet" href="css/style.css">
    <link href="css/select2.min.css" rel="stylesheet">
    <!--link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"-->
    <link href='https://fonts.googleapis.com/css?family=Lato:400,300,700' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Montserrat' rel='stylesheet' type='text/css'>
    <!--JS-->
    <script   src="js/jquery.js"></script>
    <script src="js/materialize.min.js"></script>
    <script src="js/script.js"></script>
    <script src="js/select2.min.js"></script>
  </head>
  <body>
    <div class="timetable-menu-list">
      <div class="close">
        <i class="fa fa-times" aria-hidden="true" style="color: rgb(127,144,153);font-size: 50px"></i>
      </div>
      <div class="row">
        <div class="col s12 m12 l12 push-l3">
          <select id="course-list" class="course-list-1" name="course-list" style="min-width: 200px">
              <option value="0">Search Course</option>
              <option value="CSE1002">CSE1002-Problem Solving And Programming</option>
              <option value="ITE1001">ITE1001-Digital Logic And Microprocessor</option>
              <option value="ITE1004">ITE1004-Data Structures And Algorithms</option>
              <option value="MAT1014">MAT1014-Discrete Mathematics And Graph Theory</option>
              <option value="MAT2001">MAT2001-Statistics For Engineers</option>
            </select>
            <select id="slot-list" class="slot-list-1" name="slot-list" style="min-width: 200px">
              <option value="0">Search Slot</option>
              <option value="L31+L32+L33+L34+L35+L36">L31+L32+L33+L34+L35+L36</option>
              <option value="A1">A1</option>
            </select>
            <select id="faculty-list" class="faculty-list-1" name="faculty-list" style="min-width: 200px">
              <option value="0">Search Faculty</option>
              <option value="SenthilKumar">Senthil Kumar</option>
              <option value="Varalakshmi">Varalakshmi</option>
            </select>
            <button class="submit-button timetable-results-trigger">Save</button>
        </div>
      </div>
    </div>
    <div class="row timetable-title-panel valign-wrapper" style="padding-bottom: 1%;">
      <div class="col s12 m8 l8 valign">
        <a href="#"><h4 style="font-family: Montserrat">My FFCS</h4></a>
      </div>
      <div class="col s12 m3 l3 valign">
        <button class="submit-button">Add Course</button>
      </div>
    </div>
    <div class="row timetable-results">
      <div class="custom-card z-depth-1 col s12 m3 push-m1 l3 push-l1" draggable="true" ondragstart="drag(event)">
        <div class="custom-card-header">
          <div class="custom-card-front">
            <h5 class="course-title">Introduction To Innovative Projects</h5>
            <p class="course-faculty">Prof. Gandhimati S.N.S.</p></div>
            <div class="custom-card-edit" style="display:none">
              <img src="images/edit.png" class="save-tt" style="padding-left: 15%;padding-top: 5%;padding-bottom: 5%" class="left" />
              <img src="images/delete.png" style="padding-right: 15%;padding-top: 5%;padding-bottom: 5%" class="right" />
            </div>
        </div>
        <div class="custom-card-slot row valign-wrapper">
          <div class="col s10 m10 l10"  style="border-right: 1px solid;border-color: rgb(123,123,123)"><p class="course-code">PHY1011<span class="right">F2</span></p></div>
          <div class="col s2 m2 l2 valign custom-card-action front" style="padding: 1%;text-align: center;font-size: 20px;"><i class="fa fa-ellipsis-v" aria-hidden="true"></i></div>
        </div>
      </div>
      <div class="custom-card z-depth-1 col s12 m3 push-m1 l3 push-l1" draggable="true" ondragstart="drag(event)">
        <div class="custom-card-header">
          <div class="custom-card-front">
            <h5 class="course-title">Introduction To Innovative Projects</h5>
            <p class="course-faculty">Prof. Gandhimati S.N.S.</p></div>
            <div class="custom-card-edit" style="display:none">
              <img src="images/edit.png" class="save-tt" style="padding-left: 15%;padding-top: 5%;padding-bottom: 5%" class="left" />
              <img src="images/delete.png" style="padding-right: 15%;padding-top: 5%;padding-bottom: 5%" class="right" />
            </div>
        </div>
        <div class="custom-card-slot row valign-wrapper">
          <div class="col s10 m10 l10"  style="border-right: 1px solid;border-color: rgb(123,123,123)"><p class="course-code">PHY1011<span class="right">F1</span></p></div>
          <div class="col s2 m2 l2 valign custom-card-action front" style="padding: 1%;text-align: center;font-size: 20px;"><i class="fa fa-ellipsis-v" aria-hidden="true"></i></div>
        </div>
      </div>
      <div class="custom-card z-depth-1 col s12 m3 push-m1 l3 push-l1" draggable="true" ondragstart="drag(event)">
        <div class="custom-card-header">
          <div class="custom-card-front">
            <h5 class="course-title">Introduction To Innovative Projects</h5>
            <p class="course-faculty">Prof. Gandhimati S.N.S.</p></div>
            <div class="custom-card-edit" style="display:none">
              <img src="images/edit.png" class="save-tt" style="padding-left: 15%;padding-top: 5%;padding-bottom: 5%" class="left" />
              <img src="images/delete.png" style="padding-right: 15%;padding-top: 5%;padding-bottom: 5%" class="right" />
            </div>
        </div>
        <div class="custom-card-slot row valign-wrapper">
          <div class="col s10 m10 l10"  style="border-right: 1px solid;border-color: rgb(123,123,123)"><p class="course-code">PHY1011<span class="right">L1+L2</span></p></div>
          <div class="col s2 m2 l2 valign custom-card-action front" style="padding: 1%;text-align: center;font-size: 20px;"><i class="fa fa-ellipsis-v" aria-hidden="true"></i></div>
        </div>
      </div>
    </div>
    <div class="row timetable">
      <table>
        <tr class="timetable-headings">
          <td class="timetable-header">Time</td>
          <td class="timetable-timing" style="padding: 1.8%">8:00-8:50</td>
          <td class="timetable-timing" style="padding: 1.8%">9:00-9:50</td>
          <td class="timetable-timing">10:00-10:50</td>
          <td class="timetable-timing" style="padding: 1.8%">11:00-11:50</td>
          <td class="timetable-timing">12:00-12:50</td>
          <td class="timetable-timing" style="padding: 1.8%">1:00-1:30</td>
          <td class="timetable-timing" style="padding: 0%;color: rgb(254,254,254);font-weight: bold" rowspan=6><p style="transform: rotate(270deg);">LUNCH</p></td>
          <td class="timetable-timing">14:00-14:50</td>
          <td class="timetable-timing">15:00-15:50</td>
          <td class="timetable-timing">16:00-16:50</td>
          <td class="timetable-timing">17:00-17:50</td>
          <td class="timetable-timing">18:00-18:50</td>
          <td class="timetable-timing">19:00-19:30</td>
        </tr>
        <tr class="monday">
          <td class="timetable-header">Monday</td>
          <td class="tg1 l1 unselected">TG1/L1<span class="number"></span></td>
          <td class="a1 l2 unselected">A1/L2<span class="number"></span></td>
          <td class="f1 l3 unselected">F1/L3<span class="number"></span></td>
          <td class="d1 l4 unselected">D1/L4<span class="number"></span></td>
          <td class="tb1 l5 unselected">TB1/L5<span class="number"></span></td>
          <td class="l6 unselected">L6<span class="number"></span></td>
          <td class="a2 l31 unselected">A2/L31<span class="number"></span></td>
          <td class="f2 l32 unselected">F2/L32<span class="number"></span></td>
          <td class="d2 l33 unselected">D2/L33<span class="number"></span></td>
          <td class="tb2 l34 unselected">TB2/L34<span class="number"></span></td>
          <td class="tg2 l35 unselected">TG2/L35<span class="number"></span></td>
          <td class="l36 unselected">L36<span class="number"></span></td>
        </tr>
        <tr class="tuesday">
          <td class="timetable-header">Tuesday</td>
          <td class="taa1 l7 unselected">TAA1/L7<span class="number"></span></td>
          <td class="b1 l8 unselected">B1/L8<span class="number"></span></td>
          <td class="g1 l9 unselected">G1/L9<span class="number"></span></td>
          <td class="e1 l10 unselected">E1/L10<span class="number"></span></td>
          <td class="tc1 l11 unselected">TC1/L11<span class="number"></span></td>
          <td class="l12 unselected">L12<span class="number"></span></td>
          <td class="b2 l37 unselected">B2/L37<span class="number"></span></td>
          <td class="g2 l38 unselected">G2/L38<span class="number"></span></td>
          <td class="e2 l39 unselected">E2/L39<span class="number"></span></td>
          <td class="tc2 l40 unselected">TC2/L40<span class="number"></span></td>
          <td class="taa2 l41 unselected">TAA2/L41<span class="number"></span></td>
          <td class="l42 unselected">L42<span class="number"></span></td>
        </tr>
        <tr class="wednesday">
          <td class="timetable-header">Wednesday</td>
          <td class="c1 l13 unselected">C1/L13<span class="number"></span></td>
          <td class="a1 l14 unselected">A1/L14<span class="number"></span></td>
          <td class="f1 unselected">F1/L15<span class="number"></span></td>
          <td class="timetable-seminar" colspan=3>Extramural Hour</td>
          <td class="c2 l43 unselected">C2/L43<span class="number"></span></td>
          <td class="a2 l44 unselected">A2/L44<span class="number"></span></td>
          <td class="f2 l45 unselected">F2/L45<span class="number"></span></td>
          <td class="td2 l46 unselected">TD2/L46<span class="number"></span></td>
          <td class="tbb2 l47 unselected">TBB2/L47<span class="number"></span></td>
          <td class="l48 unselected">L48<span class="number"></span></td>
        </tr>
        <tr class="thursday">
          <td class="timetable-header">Thursday</td>
          <td class="tcc1 l19 unselected">TCC1/L19<span class="number"></span></td>
          <td class="d1 l20 unselected">D1/L20<span class="number"></span></td>
          <td class="b1 l21 unselected">B1/L21<span class="number"></span></td>
          <td class="g1 l22 unselected">G1/L22<span class="number"></span></td>
          <td class="te1 l23 unselected">TE1/L23<span class="number"></span></td>
          <td class="l24 unselected">L24<span class="number"></span></td>
          <td class="d2 l49 unselected">D2/L49<span class="number"></span></td>
          <td class="b2 l50 unselected">B2/L50<span class="number"></span></td>
          <td class="g2 l51 unselected">G2/L51<span class="number"></span></td>
          <td class="te2 l52 unselected">TE2/L52<span class="number"></span></td>
          <td class="tcc2 l53 unselected">TCC2/L53<span class="number"></span></td>
          <td class="l54 unselected">L54<span class="number"></span></td>
        </tr>
        <tr class="friday">
          <td class="timetable-header">Friday</td>
          <td class="td1 l25 unselected">TD1/L25<span class="number"></span></td>
          <td class="e1 l26 unselected">E1/L26<span class="number"></span></td>
          <td class="c1 l27 unselected">C1/L27<span class="number"></span></td>
          <td class="ta1 l28 unselected">TA1/L28<span class="number"></span></td>
          <td class="tf1 l29 unselected">TF1/L29<span class="number"></span></td>
          <td class="l30 unselected">L30<span class="number"></span></td>
          <td class="f2 l55 unselected">F2/L55<span class="number"></span></td>
          <td class="c2 l56 unselected">C2/L56<span class="number"></span></td>
          <td class="ta2 l57 unselected">TA2/L57<span class="number"></span></td>
          <td class="tf2 l58 unselected">TF2/L58<span class="number"></span></td>
          <td class="tdd2 l59 unselected">TDD2/L59<span class="number"></span></td>
          <td class="l60 unselected">L60<span class="number"></span></td>
        </tr>
      </table>
    </div>
    <div class="row timetable-selected-list z-depth-1">
      <table class="timetable-selected-table table centered">
        <tr class="timetable-selected-headings">
          <td>S.No.</td>
          <td>Course Code</td>
          <td>Course Name<br><span class="sub-text">Course Type</span></td>
          <td>Slot</td>
          <td>Faculty<br><span class="sub-text">School</span></td>
          <td></td>
        </tr>
        <tr class="timetable-selected-subject">
          <td>1</td>
          <td>CSE1002</td>
          <td>Problem Solving And Programming<br><span class="sub-text-inside">Lab Only</span></td>
          <td>L1 + L2 + L11  + L12 + L21 + L22</td>
          <td><p class="timetable-selected-faculty">Prof. Nagaraja Rao</p><span class="sub-text-inside">SCOPE</span></td>
          <td><i class="small material-icons">delete</i></td>
        </tr>
        <tr class="timetable-selected-subject">
          <td>2</td>
          <td>CSE1002</td>
          <td>Problem Solving And Programming<br><span class="sub-text-inside">Lab Only</span></td>
          <td>L1 + L2 + L11  + L12 + L21 + L22</td>
          <td class=""><p class="timetable-selected-faculty">Prof. Nagaraja Rao</p><span class="sub-text-inside">SCOPE</span></td>
          <td><i class="small material-icons">delete</i></td>
        </tr>
        <tr class="timetable-selected-subject">
          <td>3</td>
          <td>CSE1002</td>
          <td>Problem Solving And Programming<br><span class="sub-text-inside">Lab Only</span></td>
          <td>L1 + L2 + L11  + L12 + L21 + L22</td>
          <td class=""><p class="timetable-selected-faculty">Prof. Nagaraja Rao</p><span class="sub-text-inside">SCOPE</span></td>
          <td><i class="small material-icons">delete</i></td>
        </tr>
        <tr class="timetable-selected-subject">
          <td>4</td>
          <td>CSE1002</td>
          <td>Problem Solving And Programming<br><span class="sub-text-inside">Lab Only</span></td>
          <td>L1 + L2 + L11  + L12 + L21 + L22</td>
          <td class=""><p class="timetable-selected-faculty">Prof. Nagaraja Rao</p><span class="sub-text-inside">SCOPE</span></td>
          <td><i class="small material-icons">delete</i></td>
        </tr>
        <tr class="timetable-selected-subject">
          <td>5</td>
          <td>CSE1002</td>
          <td>Problem Solving And Programming<br><span class="sub-text-inside">Lab Only</span></td>
          <td>L1 + L2 + L11  + L12 + L21 + L22</td>
          <td class=""><p class="timetable-selected-faculty">Prof. Nagaraja Rao</p><span class="sub-text-inside">SCOPE</span></td>
          <td><i class="small material-icons">delete</i></td>
        </tr>
        <tr class="timetable-selected-subject">
          <td>6</td>
          <td>CSE1002</td>
          <td>Problem Solving And Programming<br><span class="sub-text-inside">Lab Only</span></td>
          <td>L1 + L2 + L11  + L12 + L21 + L22</td>
          <td class=""><p class="timetable-selected-faculty">Prof. Nagaraja Rao</p><span class="sub-text-inside">SCOPE</span></td>
          <td><i class="small material-icons">delete</i></td>
        </tr>
        <tr class="timetable-selected-subject">
          <td>7</td>
          <td>CSE1002</td>
          <td>Problem Solving And Programming<br><span class="sub-text-inside">Lab Only</span></td>
          <td>L1 + L2 + L11  + L12 + L21 + L22</td>
          <td class=""><p class="timetable-selected-faculty">Prof. Nagaraja Rao</p><span class="sub-text-inside">SCOPE</span></td>
          <td><i class="small material-icons">delete</i></td>
        </tr>
      </table>
    </div>
  </body>
  <script type="text/javascript">
    var count = $('.timetable-selected-subject').length;
    $('.save-tt').click(function(){
      var slot = $(this).closest($('.custom-card')).find($('.custom-card-slot .right')).text();
      var courseCode = $(this).closest($('.custom-card')).find($('.custom-card-slot .course-code')).text().replace(slot,"");
      var faculty = $(this).closest($('.custom-card')).find($('.custom-card-front .course-faculty')).text();
      var courseTitle = $(this).closest($('.custom-card')).find($('.custom-card-front .course-title')).text();
      slot = slot.toLowerCase();
      if(slot.charAt(0)!=='l'){
        if($('.'+slot).hasClass('selected')){
          $('.'+slot).addClass('clash');
          $('.'+slot).removeClass('.selected');
          $('.'+slot+" .number").css("color","rgb(250,77,92)");
          $('.'+slot+" .number").html(count);
        } else{
          count++;
          $("."+slot).addClass("selected");
          $("."+slot).removeClass("unselected");
          $('.'+slot+" .number").css("color","#00e676");
          $('.'+slot+" .number").html(count);
          $('<tr class="timetable-selected-subject"><td>'+(count)+'</td><td>'+courseCode+'</td><td>'+courseTitle+'<br><span class="sub-text-inside">Lab Only</span></td><td>'+slot.toUpperCase()+'</td><td class=""><p class="timetable-selected-faculty">'+faculty+'</p><span class="sub-text-inside">SCOPE</span></td><td><i class="small material-icons">delete</i></td></tr>').insertAfter('.timetable-selected-subject:nth-child('+count+")");
        }
      } else{
        var isClashing = false;
        slot = slot.split('+');
        for(var i in slot){
          tempSlot = slot[i];
          if($('.'+tempSlot).hasClass('selected')){
            isClashing = true;
          } else{
            isClashing = false;
          }
        }
        if(!isClashing){
          count++;
          for(var i in slot){
            tempSlot = slot[i];
            $("."+tempSlot).addClass("selected");
            $("."+tempSlot).removeClass("unselected");
            $('.'+tempSlot+" .number").css("color","#00e676");
            $('.'+tempSlot+" .number").html(count);
          }
          $('<tr class="timetable-selected-subject"><td>'+(count)+'</td><td>'+courseCode+'</td><td>'+courseTitle+'<br><span class="sub-text-inside">Lab Only</span></td><td>'+slot.join('+').toUpperCase()+'</td><td class=""><p class="timetable-selected-faculty">'+faculty+'</p><span class="sub-text-inside">SCOPE</span></td><td><i class="small material-icons">delete</i></td></tr>').insertAfter('.timetable-selected-subject:nth-child('+count+")");
        }
      }
    });
    $(document).ready(function(){
      $('.course-list-1').select2();
      $('.slot-list-1').select2();
      $('.faculty-list-1').select2();
    });
  </script>
</html>
